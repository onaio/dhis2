<!DOCTYPE html>
<html>
<head>

<title>DHIS Web Portal</title>

<!-- Import ext js, ext css and visualizer plugin js -->

<script type="text/javascript" src="http://extjs-public.googlecode.com/svn/tags/extjs-4.0.7/release/ext-all.js"></script>
<script type="text/javascript" src="http://apps.dhis2.org/demo/dhis-web-visualizer/app/plugin/plugin.js"></script>

<!-- Custom CSS -->

<style type="text/css">

body {
  font-family: Georgia, sans-serif;
  color: #3B3B3B;
  line-height: 1.5;
}

h1 {
  color: black;
}

h1, h3 {
  font-weight: lighter;
}

.chart {
  width: 900px;
  height: 500px;
  border: 1px solid #ddd;
  margin: 30px;
}

</style>

<!-- Login and initialize charts -->

<script type="text/javascript">
var base = 'http://apps.dhis2.org/demo/';

Ext.onReady( function() {
  Ext.Ajax.request({ 
    url: base + "dhis-web-commons-security/login.action",
    method: 'POST',
    params: { j_username: "admin", j_password: "district" },
    success: setLinks
  });
});

function setLinks() {
  DHIS.getChart({ uid: 'R0DVGvXDUNP', el: 'chartA1', url: base });

  DHIS.getChart({ uid: 'X0CPnV6uLjR', el: 'chartA2', url: base });

  DHIS.getChart({ uid: 'j1gNXBgwKVm', el: 'chartA3', url: base });

  DHIS.getChart({ uid: 'X7PqaXfevnL', el: 'chartA4', url: base });

  DHIS.getChart({ el: 'chartB1', url: base,
    type: 'bar',
    indicators: ['FnYCr2EAzWS','eTDtyyaSA7f','tUIlpyeeX9N'],
    periods: 'last12Months',
    organisationunits: ['ImspTQPwCqd']
  });

  DHIS.getChart({ el: 'chartB2', url: base,
    type: 'column',
    indicators: ['Uvn6LCg7dVU','sB79w2hiLp8'],
    periods: 'thisYear',
    organisationunits: ['O6uvpzGd5pu','fdc6uOvgoji','lc3eMKXaEfw','jmIPBj66vD6'],
    series: 'data',
    category: 'organisationunit',
    filter: 'period'
  });

  DHIS.getChart({ el: 'chartB3', url: base,
    type: 'line',
    indicators: ['Uvn6LCg7dVU','sB79w2hiLp8'],
    periods: 'last12Months',
    organisationunits: ['ImspTQPwCqd'],
    series: 'data',
    category: 'period',
    filter: 'organisationunit'
  });

  DHIS.getChart({ el: 'chartB4', url: base,
    type: 'pie',
    dataelements: ['sre820mphBu','nckBHiObFAn','Z2GiSR6S3DO','rEgPZfxBScE','T2H6EDoHxxy'],
    periods: 'thisYear',
    organisationunits: ['ImspTQPwCqd'],
    series: 'period',
    category: 'data',
    filter: 'organisationunit'
  });
};
</script>

</head>

<body>

<h1>Visualizer Plugin</h1>

<p><a href="http://dhis2.org">Home</a> | <a href="index.html">Portal</a> | <a href="plugin.html">Plugin</a> | <a href="carousel.html">Carousel</a></p>

<p>This page illustrates the use of the Data Visualizer plugin which can be used to embed Ext dynamic charts into a Web page. You can embed charts 
pointing to pre-defined charts in DHIS, or select custom indicators, periods and org units to create dynamic charts. View the source of this page to 
see how it is done.</p>

<h3>Pre-defined charts</h3>

<div id="chartA1" class="chart"></div>
<div id="chartA2" class="chart"></div>
<div id="chartA3" class="chart"></div>
<div id="chartA4" class="chart"></div>

<h3>Dynamic charts</h3>

<div id="chartB1" class="chart"></div>
<div id="chartB2" class="chart"></div>
<div id="chartB3" class="chart"></div>
<div id="chartB4" class="chart"></div>

</body>
</html>
